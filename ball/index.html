<!DOCTYPE html>
<html>
   <script src="https://aframe.io/releases/1.4.0/aframe.min.js"></script>
<script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>

  
  <body>
    <script>
      AFRAME.registerComponent('follow', {
        schema: {

          target: {
            type: "selector"
          },
          speed: { type: 'number' }
        },

        init: function () {
          this.flag_target = new Boolean(true);
          this.target = this.data.target;
          this.targetPosition =  new THREE.Vector3( );
          this.targetPosition2 =  new THREE.Vector3( );
          this.currentPosition;
          var Inter =  new THREE.Vector3( );         
          this.to = 0
        },

        tick: function (time, timeDelta) {            
            this.currentPosition = this.el.object3D.position;
            targetPosition =  new THREE.Vector3( );
            targetPosition.add(this.target.object3D.position);
            targetPosition2 =  new THREE.Vector3( );
            targetPosition2.add(this.target.object3D.position);
            Inter =  new THREE.Vector3( );  
            Inter.add(targetPosition);
            Inter.add(targetPosition2);
            Inter.multiplyScalar(0.5);
            Inter.y += 5;
            var t = Math.abs((time*0.001)%2-1);
            t = Math.min(t,0.98);
            t = Math.max(t,0.02);
            targetPosition.multiplyScalar(t*t);
            Inter.multiplyScalar(t*(1-t));
            targetPosition2.multiplyScalar((1-t)*(1-t));

          // Translate the entity in the direction towards the target.
          this.el.setAttribute('position', {
            x:  targetPosition.x + targetPosition2.x + Inter.x,
            y:  targetPosition.y + targetPosition2.y + Inter.y,
            z:  targetPosition.z + targetPosition2.z + Inter.z
          });
        }
      });

    </script>
    <a-scene embedded
                ar
            vr-mode-ui="enabled:false;"
                arjs="trackingMethod:best; sourceType: webcam"
                renderer="logarithmicDepthBuffer:true;">     
      <a-entity>
      <a-marker type='pattern' url='src/markers/patts/letterA.patt'>
        <a-sphere radius="0" id="target-box1" color="red" position="0 0 0"></a-sphere>
        <a-sphere radius="0.25" follow="target: #target-box1; speed: 1" color="blue" position="0 0.2 0"></a-sphere>
      </a-marker> 
       <a-entity camera></a-entity> 
    </a-entity> 
    </a-scene>
  </body>

</html>